(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c295b43c"],{"5f7b":function(e,t,s){},"82ed":function(e,t,s){},"9d64":function(e,t,s){e.exports=s.p+"img/logo.0093d7fc.png"},a55b:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[s("TopNav"),s("div",{staticClass:"login-contents"},[e._m(0),e._m(1),s("div",{staticClass:"msg"},[s("van-field",{attrs:{type:"tel",label:"手机号",size:"large",placeholder:"请输入手机号"},model:{value:e.state.tel,callback:function(t){e.$set(e.state,"tel",t)},expression:"state.tel"}}),s("van-field",{attrs:{size:"large",type:e.eyeState?"text":"password",label:"密码","right-icon":e.eyeState?"eye-o":"closed-eye",placeholder:"请输入密码"},on:{"click-right-icon":e.openEye},model:{value:e.state.password,callback:function(t){e.$set(e.state,"password",t)},expression:"state.password"}})],1),s("div",{staticClass:"forget"},[s("span",[e._v("忘记密码")]),s("span",{on:{click:e.showPopup}},[e._v("注册")])]),s("div",{staticClass:"login-btn"},[s("van-button",{attrs:{round:"",block:"",color:"#c7a76d",type:"default"},on:{click:e.login}},[e._v("登 录")])],1)]),s("van-popup",{style:{height:"42%"},attrs:{position:"bottom",round:"",closeable:""},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("div",{staticClass:"register"},[s("div",{staticClass:"register-title"},[e._v("注册")]),s("div",{staticClass:"register-msg"},[s("van-field",{attrs:{label:"昵称",placeholder:"输入昵称(1-10位)"},model:{value:e.userRegisterInfo.nickName,callback:function(t){e.$set(e.userRegisterInfo,"nickName",t)},expression:"userRegisterInfo.nickName"}}),s("van-field",{attrs:{type:"tel",label:"手机号",size:"large",placeholder:"请输入手机号"},model:{value:e.userRegisterInfo.phone,callback:function(t){e.$set(e.userRegisterInfo,"phone",t)},expression:"userRegisterInfo.phone"}}),s("van-field",{attrs:{size:"large",type:e.eyeState?"text":"password",label:"密码","right-icon":e.eyeState?"eye-o":"closed-eye",placeholder:"请输入密码(6-16位)"},on:{"click-right-icon":e.openEye},model:{value:e.userRegisterInfo.password,callback:function(t){e.$set(e.userRegisterInfo,"password",t)},expression:"userRegisterInfo.password"}}),s("div",{staticClass:"btn-box"},[s("van-button",{attrs:{round:"",block:"",color:"#c7a76d",type:"default"},on:{click:e.register}},[e._v("注 册")])],1)],1)])])],1)},a=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"logo"},[o("img",{attrs:{src:s("9d64"),alt:""}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"info"},[s("div",{staticClass:"top"},[e._v("欢迎来到"),s("span",[e._v(" 闲时 ")]),e._v("咖啡")]),s("div",{staticClass:"bottom"},[e._v("Welcome to leisure coffee")])])}],i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"topNav"},[o("van-nav-bar",{attrs:{"left-arrow":""},scopedSlots:e._u([{key:"left",fn:function(){return[o("div",{staticClass:"leftTxt",on:{click:e.goBack}},[o("div",{staticClass:"logo"},[o("img",{attrs:{src:s("9d64"),alt:""}})]),o("div",{staticClass:"text"},[e._v("Leisure Coffee")])])]},proxy:!0},{key:"right",fn:function(){return[o("div",{staticClass:"rightText",on:{click:e.goForAWalk}},[e._v(" 先逛一逛 ")])]},proxy:!0}])})],1)},r=[],n=(s("db53"),{name:"TopNav",methods:{goBack:function(){this.$router.go(-1)},goForAWalk:function(){this.$router.push("/")}}}),l=n,c=(s("cb5d"),s("5d22")),u=Object(c["a"])(l,i,r,!1,null,"38c7f792",null),d=u.exports,f=(s("c25d"),s("4995"),s("96ec"));function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var s=0;s<t.length;s++){var o=t[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,t,s){return t&&g(e.prototype,t),s&&g(e,s),e}var v=function(){function e(){p(this,e)}return h(e,[{key:"validForm",value:function(e){for(var t in e)if(!e[t].reg.test(e[t].value))return Object(f["a"])({message:e[t].errorMsg,duration:3e3,forbidClick:!0,position:"bottom"}),!1;return!0}}]),e}(),m=new v,b={name:"Login",data:function(){return{state:{tel:"",password:""},userRegisterInfo:{phone:"",password:"",nickName:""},eyeState:!1,show:!1}},components:{TopNav:d},methods:{openEye:function(){this.eyeState=!this.eyeState},showPopup:function(){this.show=!0,this.state.tel="",this.state.password=""},register:function(){var e=this,t={nickName:{value:this.userRegisterInfo.nickName,reg:/^[\u4e00-\u9fa5A-Za-z0-9]{1,10}$/,errorMsg:"昵称支持汉字字母数字组合"},phone:{value:this.userRegisterInfo.phone,reg:/^1[3-9]\d{9}$/,errorMsg:"手机号格式不正确"},password:{value:this.userRegisterInfo.password,reg:/^[A-Za-z]\w{5,15}$/,errorMsg:"密码支持字母数字_组合且首字符必须为字母"}};m.validForm(t)&&this.$axios({method:"post",url:this.$axios.defaults.baseURL+"/register",data:{appkey:this.appkey,userName:this.userRegisterInfo.nickName,phone:this.userRegisterInfo.phone,password:this.userRegisterInfo.password}}).then((function(t){if(100==t.data.code){for(var s in e.show=!1,e.userRegisterInfo)e.userRegisterInfo[s]="";e.$toast({message:t.data.msg,duration:2e3,forbidClick:!0})}else e.$toast({message:t.data.msg,duration:2e3,forbidClick:!0,position:"bottom"})}))},login:function(){var e=this,t={phone:{value:this.state.tel,reg:/^1[3-9]\d{9}$/,errorMsg:"手机号格式不正确"},password:{value:this.state.password,reg:/^[A-Za-z]\w{5,15}$/,errorMsg:"密码支持字母数字_组合且首字符必须为字母"}};m.validForm(t)&&(this.$toast({message:"加载中...",duration:0,forbidClick:!0}),this.$axios({method:"post",url:this.$axios.defaults.baseURL+"/login",data:{appkey:this.appkey,phone:this.state.tel,password:this.state.password}}).then((function(t){200==t.data.code?(e.$toast.clear(),e.$cookies.set("loginReturnToken",t.data.token,"1d"),e.$router.go(-1)):e.$toast({message:t.data.msg,duration:3e3,forbidClick:!0})})).catch((function(e){console.log(e)})))}}},k=b,w=(s("c69f"),Object(c["a"])(k,o,a,!1,null,"052c6076",null));t["default"]=w.exports},c25d:function(e,t,s){},c69f:function(e,t,s){"use strict";s("5f7b")},cb5d:function(e,t,s){"use strict";s("82ed")},db53:function(e,t,s){}}]);
//# sourceMappingURL=chunk-c295b43c.6918bd69.js.map